---
// src/pages/tools/base64-url.astro
import Layout from '../../layouts/Layout.astro';
import Base64UrlTool from '../../components/Base64UrlTool.jsx';

const pageTitle = 'Base64 & URL 编解码工具';
const description = '在线 Base64 编码/解码、URL 编码/解码工具，支持双向转换和实时预览。';
---

<Layout title={`${pageTitle} | 软糖工具`}>
  <div class="container mx-auto px-4 py-8 max-w-6xl">
    <!-- 页面标题和描述 -->
    <div class="mb-8">
      <h1 class="text-3xl md:text-4xl font-bold text-gray-900 dark:text-gray-100 mb-4">
        {pageTitle}
      </h1>
      <p class="text-lg text-gray-600 dark:text-gray-400">
        {description}
      </p>
    </div>

    <!-- 工具主界面 -->
    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden">
      <div class="p-6">
        <Base64UrlTool client:load />
      </div>
    </div>

    <!-- 技术说明部分 -->
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mt-8">
      <!-- Base64 说明 -->
      <div class="bg-gray-50 dark:bg-gray-900 rounded-xl p-6">
        <h2 class="text-xl font-bold text-gray-900 dark:text-gray-100 mb-4">
          关于 Base64 编码
        </h2>
        <div class="space-y-3 text-gray-700 dark:text-gray-300">
          <p>
            <strong>Base64</strong> 是一种基于 64 个可打印字符来表示二进制数据的方法。
          </p>
          <ul class="list-disc pl-5 space-y-2">
            <li>常用于在 HTTP 环境下传输较长的标识信息</li>
            <li>用于电子邮件中传输二进制文件</li>
            <li>将图片等二进制数据嵌入到文本文件中</li>
            <li>在某些数据存储和传输协议中作为标准格式</li>
          </ul>
          <p>
            Base64 编码后的数据比原始数据大约增加 33% 的体积。
          </p>
        </div>
      </div>

      <!-- URL 编码说明 -->
      <div class="bg-gray-50 dark:bg-gray-900 rounded-xl p-6">
        <h2 class="text-xl font-bold text-gray-900 dark:text-gray-100 mb-4">
          关于 URL 编码
        </h2>
        <div class="space-y-3 text-gray-700 dark:text-gray-300">
          <p>
            <strong>URL 编码</strong>（百分比编码）用于将 URL 中的特殊字符转换为安全字符。
          </p>
          <ul class="list-disc pl-5 space-y-2">
            <li>将非 ASCII 字符（如中文）转换为 UTF-8 编码</li>
            <li>对 URL 中的保留字符（如 ?、&、=、/、# 等）进行编码</li>
            <li>确保 URL 在各种网络环境中正确传输</li>
            <li>防止跨站脚本攻击（XSS）</li>
          </ul>
          <p>
            常见的编码字符：空格 → %20，中文 → %E4%B8%AD 等形式。
          </p>
        </div>
      </div>
    </div>

    <!-- 使用示例 -->
    <div class="mt-8">
      <h2 class="text-2xl font-bold text-gray-900 dark:text-gray-100 mb-4">使用示例</h2>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <!-- Base64 示例 -->
        <div class="border border-gray-200 dark:border-gray-700 rounded-lg p-4">
          <h3 class="font-semibold text-gray-800 dark:text-gray-200 mb-2">Base64 示例</h3>
          <div class="space-y-2 text-sm">
            <p><strong>原文：</strong>Hello, 世界!</p>
            <p><strong>Base64 编码：</strong><code class="bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded">SGVsbG8sIOa1i+ivlSE=</code></p>
            <p class="text-xs text-gray-500">尝试将原文复制到输入框进行编码测试</p>
          </div>
        </div>

        <!-- URL 编码示例 -->
        <div class="border border-gray-200 dark:border-gray-700 rounded-lg p-4">
          <h3 class="font-semibold text-gray-800 dark:text-gray-200 mb-2">URL 编码示例</h3>
          <div class="space-y-2 text-sm">
            <p><strong>原文：</strong>https://example.com/search?q=编码测试</p>
            <p><strong>URL 编码：</strong><code class="bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded break-all">https%3A%2F%2Fexample.com%2Fsearch%3Fq%3D%E7%BC%96%E7%A0%81%E6%B5%8B%E8%AF%95</code></p>
            <p class="text-xs text-gray-500">URL 编码后可直接用于 HTTP 请求</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</Layout>

<style>
  /* 确保代码显示清晰 */
  code {
    font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace;
    font-size: 0.875em;
  }
</style>

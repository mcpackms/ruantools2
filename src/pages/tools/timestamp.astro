---
// src/pages/tools/timestamp.astro
import Layout from '../../layouts/Layout.astro';
import TimestampConverter from '../../components/TimestampConverter.vue';

const pageTitle = '时间戳转换工具';
const description = 'Unix 时间戳与日期时间相互转换工具，支持秒/毫秒级时间戳、多种日期格式、批量转换功能';
---

<Layout title={`${pageTitle} | 软糖工具`}>
  <div class="container mx-auto px-4 py-8 max-w-6xl">
    <!-- 页面标题和描述 -->
    <div class="mb-10">
      <h1 class="text-3xl md:text-4xl font-bold text-gray-900 dark:text-gray-100 mb-4">
        {pageTitle}
      </h1>
      <p class="text-lg text-gray-600 dark:text-gray-400">
        {description}
      </p>
    </div>

    <!-- Vue 组件 -->
    <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-xl overflow-hidden">
      <div class="p-6 md:p-8">
        <TimestampConverter client:load />
      </div>
    </div>

    <!-- 工具说明 -->
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mt-10">
      <!-- 什么是时间戳 -->
      <div class="bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-gray-900 dark:to-gray-800 rounded-2xl p-6">
        <h2 class="text-2xl font-bold text-gray-900 dark:text-gray-100 mb-4">
          什么是 Unix 时间戳？
        </h2>
        <div class="space-y-4 text-gray-700 dark:text-gray-300">
          <p>
            <strong>Unix 时间戳</strong>是从 1970 年 1 月 1 日 00:00:00 UTC（协调世界时）开始所经过的秒数，不考虑闰秒。
          </p>
          <p>
            时间戳通常用于：
          </p>
          <ul class="list-disc pl-5 space-y-2">
            <li>数据库中的时间存储</li>
            <li>API 接口的时间表示</li>
            <li>日志记录的时间标记</li>
            <li>缓存过期时间的计算</li>
            <li>跨时区的时间统一</li>
          </ul>
        </div>
      </div>

      <!-- 使用场景 -->
      <div class="bg-gradient-to-br from-green-50 to-emerald-50 dark:from-gray-900 dark:to-gray-800 rounded-2xl p-6">
        <h2 class="text-2xl font-bold text-gray-900 dark:text-gray-100 mb-4">
          常见使用场景
        </h2>
        <div class="space-y-4">
          <div class="border-l-4 border-green-500 pl-4 py-2">
            <h3 class="font-semibold text-gray-800 dark:text-gray-200">API 开发</h3>
            <p class="text-sm text-gray-600 dark:text-gray-400">
              在 RESTful API 中使用时间戳表示时间，避免时区问题
            </p>
          </div>
          <div class="border-l-4 border-blue-500 pl-4 py-2">
            <h3 class="font-semibold text-gray-800 dark:text-gray-200">数据分析</h3>
            <p class="text-sm text-gray-600 dark:text-gray-400">
              处理时间序列数据，进行时间窗口计算和聚合
            </p>
          </div>
          <div class="border-l-4 border-purple-500 pl-4 py-2">
            <h3 class="font-semibold text-gray-800 dark:text-gray-200">调试和日志</h3>
            <p class="text-sm text-gray-600 dark:text-gray-400">
              将日志中的时间戳转换为可读格式，方便问题排查
            </p>
          </div>
        </div>
      </div>
    </div>

    <!-- 格式参考表 -->
    <div class="mt-10">
      <h2 class="text-2xl font-bold text-gray-900 dark:text-gray-100 mb-6">
        时间格式参考
      </h2>
      <div class="overflow-x-auto rounded-xl border border-gray-200 dark:border-gray-700">
        <table class="min-w-full divide-y divide-gray-200 dark:divide-gray-700">
          <thead>
            <tr class="bg-gray-50 dark:bg-gray-800">
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider">
                格式名称
              </th>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider">
                示例
              </th>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider">
                说明
              </th>
            </tr>
          </thead>
          <tbody class="divide-y divide-gray-200 dark:divide-gray-700">
            <tr class="bg-white dark:bg-gray-900">
              <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-gray-100">
                时间戳（秒）
              </td>
              <td class="px-6 py-4 whitespace-nowrap text-sm font-mono text-blue-600 dark:text-blue-400">
                1704067200
              </td>
              <td class="px-6 py-4 text-sm text-gray-600 dark:text-gray-400">
                10 位数字，精确到秒
              </td>
            </tr>
            <tr class="bg-gray-50 dark:bg-gray-800">
              <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-gray-100">
                时间戳（毫秒）
              </td>
              <td class="px-6 py-4 whitespace-nowrap text-sm font-mono text-blue-600 dark:text-blue-400">
                1704067200000
              </td>
              <td class="px-6 py-4 text-sm text-gray-600 dark:text-gray-400">
                13 位数字，精确到毫秒
              </td>
            </tr>
            <tr class="bg-white dark:bg-gray-900">
              <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-gray-100">
                本地格式
              </td>
              <td class="px-6 py-4 whitespace-nowrap text-sm font-mono text-blue-600 dark:text-blue-400">
                2024-01-01 12:00:00
              </td>
              <td class="px-6 py-4 text-sm text-gray-600 dark:text-gray-400">
                YYYY-MM-DD HH:mm:ss
              </td>
            </tr>
            <tr class="bg-gray-50 dark:bg-gray-800">
              <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-gray-100">
                ISO 8601
              </td>
              <td class="px-6 py-4 whitespace-nowrap text-sm font-mono text-blue-600 dark:text-blue-400">
                2024-01-01T12:00:00.000Z
              </td>
              <td class="px-6 py-4 text-sm text-gray-600 dark:text-gray-400">
                国际标准格式，带时区信息
              </td>
            </tr>
            <tr class="bg-white dark:bg-gray-900">
              <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-gray-100">
                RFC 2822
              </td>
              <td class="px-6 py-4 whitespace-nowrap text-sm font-mono text-blue-600 dark:text-blue-400">
                Mon, 01 Jan 2024 12:00:00 GMT
              </td>
              <td class="px-6 py-4 text-sm text-gray-600 dark:text-gray-400">
                电子邮件和 HTTP 头部常用格式
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <!-- 技术说明 -->
    <div class="mt-10 p-6 bg-gray-50 dark:bg-gray-900 rounded-2xl">
      <h3 class="text-lg font-semibold text-gray-800 dark:text-gray-200 mb-3">技术说明</h3>
      <ul class="space-y-2 text-gray-600 dark:text-gray-400">
        <li>• 所有转换操作均在浏览器本地完成，数据不会上传服务器</li>
        <li>• 时间戳精确到毫秒（1/1000 秒）</li>
        <li>• Unix 时间戳从 1970-01-01 00:00:00 UTC 开始计算</li>
        <li>• 支持负时间戳（1970 年之前的日期）</li>
        <li>• 使用 JavaScript Date 对象进行日期解析和格式化</li>
        <li>• 支持批量转换，每行一个输入</li>
      </ul>
    </div>
  </div>
</Layout>

<style>
  /* 全局字体优化 */
  @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
  @import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500&display=swap');

  body {
    font-feature-settings: "ss01", "ss02", "cv01", "cv02";
  }

  /* 渐变文字效果 */
  .gradient-text {
    background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 50%, #ec4899 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  /* 自定义滚动条 */
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  ::-webkit-scrollbar-track {
    background: #f1f1f1;
    border-radius: 4px;
  }

  ::-webkit-scrollbar-thumb {
    background: #c1c1c1;
    border-radius: 4px;
  }

  ::-webkit-scrollbar-thumb:hover {
    background: #a1a1a1;
  }

  /* 暗色模式滚动条 */
  @media (prefers-color-scheme: dark) {
    ::-webkit-scrollbar-track {
      background: #374151;
    }

    ::-webkit-scrollbar-thumb {
      background: #6b7280;
    }

    ::-webkit-scrollbar-thumb:hover {
      background: #9ca3af;
    }
  }

  /* 平滑动画 */
  * {
    transition: background-color 0.2s ease, border-color 0.2s ease, color 0.2s ease;
  }

  /* 卡片悬停效果 */
  .hover-lift:hover {
    transform: translateY(-4px);
    box-shadow: 0 12px 24px rgba(0, 0, 0, 0.1);
  }

  /* 输入框焦点效果 */
  .input-focus:focus {
    box-shadow: 0 0 0 4px rgba(99, 102, 241, 0.15);
  }

  /* 代码块样式 */
  .code-block {
    font-family: 'JetBrains Mono', monospace;
    background: linear-gradient(135deg, #1a1c23 0%, #2d2f3a 100%);
    color: #e2e8f0;
    border-radius: 8px;
    padding: 1rem;
    overflow-x: auto;
  }
</style>

---
// é¡µé¢å…ƒæ•°æ®
const pageTitle = "æ—¶é—´æˆ³è½¬æ¢å·¥å…· - RuanTools";
const description = "Unix æ—¶é—´æˆ³ä¸æ—¥æœŸæ—¶é—´ç›¸äº’è½¬æ¢å·¥å…·ï¼Œæ”¯æŒç§’/æ¯«ç§’çº§æ—¶é—´æˆ³ã€å¤šç§æ—¥æœŸæ ¼å¼å’Œæ—¶åŒºè½¬æ¢ã€‚";
---

<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content={description} />
    <title>{pageTitle}</title>
    <style>
      :root {
        --primary: #3b82f6;
        --primary-dark: #2563eb;
        --secondary: #10b981;
        --danger: #ef4444;
        --bg-color: #f8fafc;
        --surface-color: #ffffff;
        --border-color: #e2e8f0;
        --text-primary: #1e293b;
        --text-secondary: #64748b;
        --text-tertiary: #94a3b8;
        --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
        --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        --radius: 8px;
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        background-color: var(--bg-color);
        color: var(--text-primary);
        line-height: 1.5;
        min-height: 100vh;
      }

      .container {
        max-width: 1000px;
        margin: 0 auto;
        padding: 20px;
      }

      /* å¤´éƒ¨æ ·å¼ */
      .header {
        text-align: center;
        padding: 30px 0;
        margin-bottom: 20px;
      }

      .header h1 {
        font-size: 2.25rem;
        font-weight: 700;
        color: var(--text-primary);
        margin-bottom: 8px;
      }

      .header p {
        font-size: 1rem;
        color: var(--text-secondary);
        max-width: 600px;
        margin: 0 auto;
      }

      /* å¡ç‰‡æ ·å¼ */
      .card {
        background: var(--surface-color);
        border-radius: var(--radius);
        padding: 24px;
        box-shadow: var(--shadow-md);
        margin-bottom: 24px;
        border: 1px solid var(--border-color);
      }

      .card-title {
        font-size: 1.25rem;
        font-weight: 600;
        margin-bottom: 20px;
        color: var(--text-primary);
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .card-title::before {
        content: "â°";
        font-size: 1.5rem;
      }

      /* è¡¨å•æ§ä»¶æ ·å¼ */
      .form-group {
        margin-bottom: 20px;
      }

      .form-label {
        display: block;
        font-size: 0.875rem;
        font-weight: 500;
        color: var(--text-primary);
        margin-bottom: 8px;
      }

      .form-input {
        width: 100%;
        padding: 12px 16px;
        border: 2px solid var(--border-color);
        border-radius: var(--radius);
        font-size: 1rem;
        font-family: 'Monaco', 'Menlo', 'Consolas', monospace;
        background-color: white;
        transition: border-color 0.2s;
      }

      .form-input:focus {
        outline: none;
        border-color: var(--primary);
        box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
      }

      .form-textarea {
        min-height: 100px;
        resize: vertical;
      }

      /* æŒ‰é’®ç»„ */
      .button-group {
        display: flex;
        gap: 12px;
        margin-top: 16px;
        flex-wrap: wrap;
      }

      .btn {
        padding: 10px 20px;
        border: none;
        border-radius: var(--radius);
        font-size: 0.875rem;
        font-weight: 500;
        cursor: pointer;
        transition: all 0.2s;
        display: inline-flex;
        align-items: center;
        gap: 6px;
      }

      .btn-primary {
        background-color: var(--primary);
        color: white;
      }

      .btn-primary:hover {
        background-color: var(--primary-dark);
      }

      .btn-secondary {
        background-color: #f1f5f9;
        color: var(--text-primary);
        border: 1px solid var(--border-color);
      }

      .btn-secondary:hover {
        background-color: #e2e8f0;
      }

      .btn-danger {
        background-color: var(--danger);
        color: white;
      }

      .btn-danger:hover {
        background-color: #dc2626;
      }

      /* ç»“æœå±•ç¤ºåŒº */
      .results {
        background-color: #1e293b;
        color: #e2e8f0;
        border-radius: var(--radius);
        padding: 20px;
        margin-top: 24px;
        font-family: 'Monaco', 'Menlo', 'Consolas', monospace;
        font-size: 0.875rem;
        overflow-x: auto;
      }

      .result-item {
        margin-bottom: 12px;
        padding-bottom: 12px;
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      }

      .result-item:last-child {
        margin-bottom: 0;
        padding-bottom: 0;
        border-bottom: none;
      }

      .result-label {
        color: #94a3b8;
        font-size: 0.75rem;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        margin-bottom: 4px;
      }

      .result-value {
        color: white;
        font-size: 1rem;
        word-break: break-all;
      }

      .highlight {
        color: #fbbf24;
        font-weight: 600;
      }

      /* é€‰é¡¹ç»„ */
      .options-group {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 16px;
        margin-bottom: 20px;
      }

      .option-item {
        display: flex;
        flex-direction: column;
      }

      .radio-group {
        display: flex;
        gap: 16px;
        margin-top: 8px;
      }

      .radio-label {
        display: flex;
        align-items: center;
        gap: 6px;
        font-size: 0.875rem;
        cursor: pointer;
      }

      .radio-input {
        width: 16px;
        height: 16px;
      }

      .select-input {
        padding: 8px 12px;
        border: 2px solid var(--border-color);
        border-radius: var(--radius);
        background-color: white;
        font-size: 0.875rem;
      }

      /* æ—¶é—´ä¿¡æ¯å¡ç‰‡ */
      .info-cards {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 16px;
        margin-top: 20px;
      }

      .info-card {
        background: linear-gradient(135deg, #3b82f6, #1d4ed8);
        color: white;
        border-radius: var(--radius);
        padding: 16px;
        text-align: center;
      }

      .info-card:nth-child(2) {
        background: linear-gradient(135deg, #10b981, #059669);
      }

      .info-card:nth-child(3) {
        background: linear-gradient(135deg, #8b5cf6, #7c3aed);
      }

      .info-card-value {
        font-size: 1.5rem;
        font-weight: 700;
        margin: 8px 0;
      }

      .info-card-label {
        font-size: 0.75rem;
        opacity: 0.9;
      }

      /* é¡µè„š */
      .footer {
        text-align: center;
        padding: 40px 0 20px;
        color: var(--text-secondary);
        font-size: 0.875rem;
        border-top: 1px solid var(--border-color);
        margin-top: 40px;
      }

      /* å“åº”å¼è°ƒæ•´ */
      @media (max-width: 768px) {
        .container {
          padding: 16px;
        }
        
        .header h1 {
          font-size: 1.75rem;
        }
        
        .button-group {
          flex-direction: column;
        }
        
        .btn {
          width: 100%;
          justify-content: center;
        }
        
        .options-group {
          grid-template-columns: 1fr;
        }
        
        .info-cards {
          grid-template-columns: 1fr;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <!-- å¤´éƒ¨ -->
      <header class="header">
        <h1>æ—¶é—´æˆ³è½¬æ¢å·¥å…·</h1>
        <p>åœ¨ Unix æ—¶é—´æˆ³ï¼ˆç§’/æ¯«ç§’ï¼‰ä¸äººç±»å¯è¯»æ—¥æœŸæ—¶é—´ä¹‹é—´ç›¸äº’è½¬æ¢</p>
      </header>

      <!-- å½“å‰æ—¶é—´ä¿¡æ¯ -->
      <div class="info-cards">
        <div class="info-card">
          <div class="info-card-label">å½“å‰æ—¶é—´æˆ³ï¼ˆç§’ï¼‰</div>
          <div id="current-timestamp-seconds" class="info-card-value">-</div>
        </div>
        <div class="info-card">
          <div class="info-card-label">å½“å‰æ—¶é—´æˆ³ï¼ˆæ¯«ç§’ï¼‰</div>
          <div id="current-timestamp-milliseconds" class="info-card-value">-</div>
        </div>
        <div class="info-card">
          <div class="info-card-label">å½“å‰æœ¬åœ°æ—¶é—´</div>
          <div id="current-datetime" class="info-card-value">-</div>
        </div>
      </div>

      <!-- ä¸»è½¬æ¢åŒºåŸŸ -->
      <main>
        <!-- æ—¶é—´æˆ³è½¬æ—¥æœŸ -->
        <div class="card">
          <h2 class="card-title">æ—¶é—´æˆ³ â†’ æ—¥æœŸæ—¶é—´</h2>
          
          <div class="form-group">
            <label for="timestamp-input" class="form-label">è¾“å…¥æ—¶é—´æˆ³</label>
            <input 
              type="text" 
              id="timestamp-input" 
              class="form-input" 
              placeholder="ä¾‹å¦‚ï¼š1704067200 æˆ– 1704067200000"
              value=""
            />
            <div class="button-group">
              <button id="convert-to-date-btn" class="btn btn-primary">
                ğŸ”„ è½¬æ¢ä¸ºæ—¥æœŸæ—¶é—´
              </button>
              <button id="use-current-timestamp-btn" class="btn btn-secondary">
                â±ï¸ ä½¿ç”¨å½“å‰æ—¶é—´æˆ³
              </button>
            </div>
          </div>

          <div class="options-group">
            <div class="option-item">
              <label class="form-label">æ—¶é—´æˆ³å•ä½</label>
              <div class="radio-group">
                <label class="radio-label">
                  <input type="radio" name="timestamp-unit" value="seconds" class="radio-input" checked>
                  ç§’ (10ä½)
                </label>
                <label class="radio-label">
                  <input type="radio" name="timestamp-unit" value="milliseconds" class="radio-input">
                  æ¯«ç§’ (13ä½)
                </label>
              </div>
            </div>

            <div class="option-item">
              <label for="date-format" class="form-label">æ—¥æœŸæ ¼å¼</label>
              <select id="date-format" class="select-input">
                <option value="iso">ISO 8601 (YYYY-MM-DDTHH:mm:ssZ)</option>
                <option value="locale" selected>æœ¬åœ°æ ¼å¼ (YYYY-MM-DD HH:mm:ss)</option>
                <option value="full">å®Œæ•´æ ¼å¼ (æ˜ŸæœŸ, YYYYå¹´MMæœˆDDæ—¥ HH:mm:ss)</option>
                <option value="date-only">ä»…æ—¥æœŸ (YYYY-MM-DD)</option>
                <option value="time-only">ä»…æ—¶é—´ (HH:mm:ss)</option>
              </select>
            </div>

            <div class="option-item">
              <label for="timezone" class="form-label">æ—¶åŒº</label>
              <select id="timezone" class="select-input">
                <option value="local" selected>æœ¬åœ°æ—¶åŒº</option>
                <option value="utc">UTC/GMT</option>
              </select>
            </div>
          </div>

          <div id="timestamp-to-date-result" class="results" style="display: none;">
            <!-- ç»“æœå°†åœ¨è¿™é‡ŒåŠ¨æ€æ˜¾ç¤º -->
          </div>
        </div>

        <!-- æ—¥æœŸè½¬æ—¶é—´æˆ³ -->
        <div class="card">
          <h2 class="card-title">æ—¥æœŸæ—¶é—´ â†’ æ—¶é—´æˆ³</h2>
          
          <div class="form-group">
            <label for="datetime-input" class="form-label">è¾“å…¥æ—¥æœŸæ—¶é—´</label>
            <input 
              type="text" 
              id="datetime-input" 
              class="form-input" 
              placeholder="ä¾‹å¦‚ï¼š2024-01-01 00:00:00 æˆ– 2024/01/01"
              value=""
            />
            <div class="button-group">
              <button id="convert-to-timestamp-btn" class="btn btn-primary">
                ğŸ”„ è½¬æ¢ä¸ºæ—¶é—´æˆ³
              </button>
              <button id="use-current-datetime-btn" class="btn btn-secondary">
                â±ï¸ ä½¿ç”¨å½“å‰æ—¶é—´
              </button>
              <button id="parse-natural-btn" class="btn btn-secondary">
                ğŸ“ è§£æè‡ªç„¶è¯­è¨€
              </button>
            </div>
          </div>

          <div class="options-group">
            <div class="option-item">
              <label class="form-label">è¾“å‡ºæ—¶é—´æˆ³å•ä½</label>
              <div class="radio-group">
                <label class="radio-label">
                  <input type="radio" name="output-unit" value="seconds" class="radio-input" checked>
                  ç§’ (10ä½)
                </label>
                <label class="radio-label">
                  <input type="radio" name="output-unit" value="milliseconds" class="radio-input">
                  æ¯«ç§’ (13ä½)
                </label>
              </div>
            </div>

            <div class="option-item">
              <label for="input-format" class="form-label">è¾“å…¥æ ¼å¼</label>
              <select id="input-format" class="select-input">
                <option value="auto" selected>è‡ªåŠ¨æ£€æµ‹</option>
                <option value="iso">ISO 8601</option>
                <option value="yyyy-mm-dd">YYYY-MM-DD</option>
                <option value="yyyy/mm/dd">YYYY/MM/DD</option>
                <option value="mm/dd/yyyy">MM/DD/YYYY</option>
              </select>
            </div>
          </div>

          <div id="date-to-timestamp-result" class="results" style="display: none;">
            <!-- ç»“æœå°†åœ¨è¿™é‡ŒåŠ¨æ€æ˜¾ç¤º -->
          </div>
        </div>

        <!-- æ‰¹é‡è½¬æ¢ -->
        <div class="card">
          <h2 class="card-title">æ‰¹é‡è½¬æ¢</h2>
          
          <div class="form-group">
            <label for="batch-input" class="form-label">æ‰¹é‡è¾“å…¥ï¼ˆæ¯è¡Œä¸€ä¸ªæ—¶é—´æˆ³æˆ–æ—¥æœŸï¼‰</label>
            <textarea 
              id="batch-input" 
              class="form-input form-textarea" 
              placeholder="æ¯è¡Œè¾“å…¥ä¸€ä¸ªæ—¶é—´æˆ³æˆ–æ—¥æœŸ&#10;ä¾‹å¦‚ï¼š&#10;1704067200&#10;2024-01-01 12:00:00&#10;1704067200000"
              rows="4"
            ></textarea>
            <div class="button-group">
              <button id="batch-convert-btn" class="btn btn-primary">
                ğŸ”„ æ‰¹é‡è½¬æ¢
              </button>
              <button id="clear-batch-btn" class="btn btn-danger">
                ğŸ—‘ï¸ æ¸…ç©º
              </button>
            </div>
          </div>

          <div id="batch-result" class="results" style="display: none;">
            <!-- æ‰¹é‡è½¬æ¢ç»“æœå°†åœ¨è¿™é‡ŒåŠ¨æ€æ˜¾ç¤º -->
          </div>
        </div>
      </main>

      <!-- ä½¿ç”¨è¯´æ˜ -->
      <div class="card">
        <h2 class="card-title">ä½¿ç”¨è¯´æ˜</h2>
        <div style="color: var(--text-secondary); line-height: 1.6;">
          <p><strong>ä»€ä¹ˆæ˜¯ Unix æ—¶é—´æˆ³ï¼Ÿ</strong></p>
          <p>Unix æ—¶é—´æˆ³æ˜¯ä» 1970å¹´1æœˆ1æ—¥ 00:00:00 UTC åˆ°å½“å‰æ—¶é—´çš„ç§’æ•°ï¼ˆ10ä½ï¼‰æˆ–æ¯«ç§’æ•°ï¼ˆ13ä½ï¼‰ã€‚</p>
          
          <p style="margin-top: 12px;"><strong>å¸¸è§ç”¨æ³•ï¼š</strong></p>
          <ul style="padding-left: 20px; margin-top: 8px;">
            <li><strong>æ—¶é—´æˆ³ â†’ æ—¥æœŸ</strong>ï¼šè¾“å…¥10ä½ï¼ˆç§’ï¼‰æˆ–13ä½ï¼ˆæ¯«ç§’ï¼‰æ•°å­—ï¼Œé€‰æ‹©å•ä½åè½¬æ¢</li>
            <li><strong>æ—¥æœŸ â†’ æ—¶é—´æˆ³</strong>ï¼šè¾“å…¥æ—¥æœŸæ—¶é—´ï¼Œæ”¯æŒå¤šç§æ ¼å¼ï¼ˆYYYY-MM-DD HH:mm:ssã€YYYY/MM/DDç­‰ï¼‰</li>
            <li><strong>æ‰¹é‡è½¬æ¢</strong>ï¼šæ¯è¡Œè¾“å…¥ä¸€ä¸ªæ—¶é—´æˆ³æˆ–æ—¥æœŸï¼Œæ”¯æŒæ··åˆè¾“å…¥</li>
            <li><strong>è‡ªç„¶è¯­è¨€è§£æ</strong>ï¼šå°è¯•è¾“å…¥"æ˜å¤©ä¸Šåˆ10ç‚¹"ã€"ä¸‹å‘¨ä¸€"ç­‰è‡ªç„¶è¯­è¨€æè¿°</li>
          </ul>
          
          <p style="margin-top: 12px;"><strong>ç¤ºä¾‹æ—¶é—´æˆ³ï¼š</strong></p>
          <ul style="padding-left: 20px; margin-top: 8px;">
            <li>1704067200 â†’ 2024-01-01 00:00:00ï¼ˆç§’ï¼‰</li>
            <li>1704067200000 â†’ 2024-01-01 00:00:00ï¼ˆæ¯«ç§’ï¼‰</li>
            <li>1640995200 â†’ 2022-01-01 00:00:00ï¼ˆç§’ï¼‰</li>
          </ul>
        </div>
      </div>

      <!-- é¡µè„š -->
      <footer class="footer">
        <p>Â© 2024 RuanTools Â· æ—¶é—´æˆ³è½¬æ¢å·¥å…·</p>
        <p>æ‰€æœ‰è®¡ç®—å‡åœ¨æµè§ˆå™¨æœ¬åœ°å®Œæˆï¼Œæ•°æ®ä¸ä¼šä¸Šä¼ åˆ°ä»»ä½•æœåŠ¡å™¨</p>
      </footer>
    </div>

    <script>
      // æ›´æ–°å½“å‰æ—¶é—´ä¿¡æ¯
      function updateCurrentTime() {
        const now = new Date();
        const timestampSeconds = Math.floor(now.getTime() / 1000);
        const timestampMilliseconds = now.getTime();
        
        // æ ¼å¼åŒ–ä¸ºæœ¬åœ°æ—¶é—´å­—ç¬¦ä¸²
        const localTime = now.toLocaleString('zh-CN', {
          year: 'numeric',
          month: '2-digit',
          day: '2-digit',
          hour: '2-digit',
          minute: '2-digit',
          second: '2-digit',
          hour12: false
        });
        
        document.getElementById('current-timestamp-seconds').textContent = timestampSeconds;
        document.getElementById('current-timestamp-milliseconds').textContent = timestampMilliseconds;
        document.getElementById('current-datetime').textContent = localTime;
      }
      
      // åˆå§‹æ›´æ–°
      updateCurrentTime();
      // æ¯ç§’æ›´æ–°ä¸€æ¬¡
      setInterval(updateCurrentTime, 1000);
      
      // æ ¼å¼åŒ–æ—¥æœŸå‡½æ•°
      function formatDate(date, format, timezone) {
        const d = timezone === 'utc' ? new Date(date.toUTCString()) : date;
        
        const year = d.getFullYear();
        const month = String(d.getMonth() + 1).padStart(2, '0');
        const day = String(d.getDate()).padStart(2, '0');
        const hours = String(d.getHours()).padStart(2, '0');
        const minutes = String(d.getMinutes()).padStart(2, '0');
        const seconds = String(d.getSeconds()).padStart(2, '0');
        const weekday = ['æ˜ŸæœŸæ—¥', 'æ˜ŸæœŸä¸€', 'æ˜ŸæœŸäºŒ', 'æ˜ŸæœŸä¸‰', 'æ˜ŸæœŸå››', 'æ˜ŸæœŸäº”', 'æ˜ŸæœŸå…­'][d.getDay()];
        
        switch(format) {
          case 'iso':
            return d.toISOString();
          case 'locale':
            return `${year}-${month}-${day} ${hours}:${minutes}:${seconds}`;
          case 'full':
            return `${weekday}ï¼Œ${year}å¹´${month}æœˆ${day}æ—¥ ${hours}:${minutes}:${seconds}`;
          case 'date-only':
            return `${year}-${month}-${day}`;
          case 'time-only':
            return `${hours}:${minutes}:${seconds}`;
          default:
            return d.toLocaleString('zh-CN');
        }
      }
      
      // æ—¶é—´æˆ³è½¬æ—¥æœŸ
      document.getElementById('convert-to-date-btn').addEventListener('click', convertTimestampToDate);
      document.getElementById('use-current-timestamp-btn').addEventListener('click', useCurrentTimestamp);
      
      function useCurrentTimestamp() {
        const unit = document.querySelector('input[name="timestamp-unit"]:checked').value;
        const timestamp = unit === 'seconds' 
          ? Math.floor(Date.now() / 1000) 
          : Date.now();
        document.getElementById('timestamp-input').value = timestamp;
        convertTimestampToDate();
      }
      
      function convertTimestampToDate() {
        const input = document.getElementById('timestamp-input').value.trim();
        const unit = document.querySelector('input[name="timestamp-unit"]:checked').value;
        const format = document.getElementById('date-format').value;
        const timezone = document.getElementById('timezone').value;
        const resultDiv = document.getElementById('timestamp-to-date-result');
        
        if (!input) {
          showError(resultDiv, 'è¯·è¾“å…¥æ—¶é—´æˆ³');
          return;
        }
        
        // éªŒè¯è¾“å…¥æ˜¯å¦ä¸ºæœ‰æ•ˆæ•°å­—
        if (!/^\d+$/.test(input)) {
          showError(resultDiv, 'æ—¶é—´æˆ³å¿…é¡»ä¸ºæ•°å­—');
          return;
        }
        
        let timestamp = parseInt(input, 10);
        
        // å¦‚æœè¾“å…¥çš„æ˜¯æ¯«ç§’ä½†é€‰æ‹©äº†ç§’å•ä½ï¼Œæˆ–è€…åä¹‹
        if (unit === 'seconds' && input.length === 13) {
          timestamp = Math.floor(timestamp / 1000);
        } else if (unit === 'milliseconds' && input.length === 10) {
          timestamp = timestamp * 1000;
        }
        
        // è½¬æ¢ä¸ºæ—¥æœŸ
        const date = unit === 'seconds' 
          ? new Date(timestamp * 1000)
          : new Date(timestamp);
        
        // éªŒè¯æ—¥æœŸæ˜¯å¦æœ‰æ•ˆ
        if (isNaN(date.getTime())) {
          showError(resultDiv, 'æ— æ•ˆçš„æ—¶é—´æˆ³');
          return;
        }
        
        // æ ¼å¼åŒ–ç»“æœ
        const formattedDate = formatDate(date, format, timezone);
        const utcDate = date.toUTCString();
        const isoDate = date.toISOString();
        const localDate = date.toLocaleString('zh-CN');
        
        // æ˜¾ç¤ºç»“æœ
        resultDiv.innerHTML = `
          <div class="result-item">
            <div class="result-label">è¾“å…¥æ—¶é—´æˆ³</div>
            <div class="result-value"><span class="highlight">${input}</span> (${unit})</div>
          </div>
          <div class="result-item">
            <div class="result-label">è½¬æ¢ç»“æœ</div>
            <div class="result-value">${formattedDate}</div>
          </div>
          <div class="result-item">
            <div class="result-label">UTC æ—¶é—´</div>
            <div class="result-value">${utcDate}</div>
          </div>
          <div class="result-item">
            <div class="result-label">ISO 8601 æ ¼å¼</div>
            <div class="result-value">${isoDate}</div>
          </div>
          <div class="result-item">
            <div class="result-label">æœ¬åœ°æ—¶é—´</div>
            <div class="result-value">${localDate}</div>
          </div>
        `;
        resultDiv.style.display = 'block';
      }
      
      // æ—¥æœŸè½¬æ—¶é—´æˆ³
      document.getElementById('convert-to-timestamp-btn').addEventListener('click', convertDateToTimestamp);
      document.getElementById('use-current-datetime-btn').addEventListener('click', useCurrentDatetime);
      document.getElementById('parse-natural-btn').addEventListener('click', parseNaturalLanguage);
      
      function useCurrentDatetime() {
        const now = new Date();
        const formatted = now.toLocaleString('zh-CN', {
          year: 'numeric',
          month: '2-digit',
          day: '2-digit',
          hour: '2-digit',
          minute: '2-digit',
          second: '2-digit',
          hour12: false
        }).replace(/\//g, '-');
        document.getElementById('datetime-input').value = formatted;
        convertDateToTimestamp();
      }
      
      function parseNaturalLanguage() {
        const input = document.getElementById('datetime-input').value.trim();
        if (!input) {
          useCurrentDatetime();
          return;
        }
        
        // ç®€å•çš„è‡ªç„¶è¯­è¨€è§£æï¼ˆå¯ä»¥æ‰©å±•ï¼‰
        let date = new Date();
        const lowerInput = input.toLowerCase();
        
        if (lowerInput.includes('æ˜å¤©')) {
          date.setDate(date.getDate() + 1);
        } else if (lowerInput.includes('æ˜¨å¤©')) {
          date.setDate(date.getDate() - 1);
        } else if (lowerInput.includes('ä»Šå¤©')) {
          // ä¿æŒä»Šå¤©
        } else if (lowerInput.includes('åå¤©')) {
          date.setDate(date.getDate() + 2);
        } else if (lowerInput.includes('å¤§åå¤©')) {
          date.setDate(date.getDate() + 3);
        }
        
        // è®¾ç½®æ—¶é—´
        if (lowerInput.includes('ä¸Šåˆ') || lowerInput.includes('am')) {
          date.setHours(9, 0, 0);
        } else if (lowerInput.includes('ä¸‹åˆ') || lowerInput.includes('pm')) {
          date.setHours(15, 0, 0);
        } else if (lowerInput.match(/\d+ç‚¹/) || lowerInput.match(/\d+:/)) {
          // ç®€å•çš„æ—¶é—´æå–ï¼ˆå¯ä»¥æ‰©å±•æ›´å¤æ‚çš„è§£æï¼‰
          const timeMatch = input.match(/(\d+)[ç‚¹:](\d+)?/);
          if (timeMatch) {
            const hour = parseInt(timeMatch[1], 10);
            const minute = timeMatch[2] ? parseInt(timeMatch[2], 10) : 0;
            date.setHours(hour, minute, 0);
          }
        }
        
        document.getElementById('datetime-input').value = date.toLocaleString('zh-CN', {
          year: 'numeric',
          month: '2-digit',
          day: '2-digit',
          hour: '2-digit',
          minute: '2-digit',
          second: '2-digit',
          hour12: false
        }).replace(/\//g, '-');
        
        convertDateToTimestamp();
      }
      
      function convertDateToTimestamp() {
        const input = document.getElementById('datetime-input').value.trim();
        const format = document.getElementById('input-format').value;
        const unit = document.querySelector('input[name="output-unit"]:checked').value;
        const resultDiv = document.getElementById('date-to-timestamp-result');
        
        if (!input) {
          showError(resultDiv, 'è¯·è¾“å…¥æ—¥æœŸæ—¶é—´');
          return;
        }
        
        let date;
        
        // æ ¹æ®é€‰æ‹©çš„æ ¼å¼è§£ææ—¥æœŸ
        try {
          if (format === 'auto') {
            // å°è¯•è‡ªåŠ¨è§£æ
            date = new Date(input);
            if (isNaN(date.getTime())) {
              // å°è¯•å…¶ä»–å¸¸è§æ ¼å¼
              const cleaned = input.replace(/[å¹´æœˆ]/g, '-').replace(/[æ—¥æ—¶åˆ†ç§’]/g, '');
              date = new Date(cleaned);
            }
          } else if (format === 'iso') {
            date = new Date(input);
          } else {
            // ç®€å•æ ¼å¼å¤„ç†
            let dateStr = input;
            if (format === 'yyyy-mm-dd') {
              dateStr = input + 'T00:00:00';
            } else if (format === 'yyyy/mm/dd') {
              dateStr = input.replace(/\//g, '-') + 'T00:00:00';
            } else if (format === 'mm/dd/yyyy') {
              const parts = input.split('/');
              if (parts.length === 3) {
                dateStr = `${parts[2]}-${parts[0]}-${parts[1]}T00:00:00`;
              }
            }
            date = new Date(dateStr);
          }
        } catch (e) {
          showError(resultDiv, 'æ—¥æœŸè§£æé”™è¯¯ï¼š' + e.message);
          return;
        }
        
        if (isNaN(date.getTime())) {
          showError(resultDiv, 'æ— æ³•è¯†åˆ«çš„æ—¥æœŸæ ¼å¼ï¼Œè¯·å°è¯•å…¶ä»–æ ¼å¼');
          return;
        }
        
        // è½¬æ¢ä¸ºæ—¶é—´æˆ³
        const timestampMs = date.getTime();
        const timestampSec = Math.floor(timestampMs / 1000);
        
        const resultTimestamp = unit === 'seconds' ? timestampSec : timestampMs;
        const timestampLength = String(resultTimestamp).length;
        
        // æ˜¾ç¤ºç»“æœ
        resultDiv.innerHTML = `
          <div class="result-item">
            <div class="result-label">è¾“å…¥æ—¥æœŸ</div>
            <div class="result-value">${input}</div>
          </div>
          <div class="result-item">
            <div class="result-label">è§£æç»“æœ</div>
            <div class="result-value">${date.toLocaleString('zh-CN')}</div>
          </div>
          <div class="result-item">
            <div class="result-label">æ—¶é—´æˆ³ (${unit})</div>
            <div class="result-value"><span class="highlight">${resultTimestamp}</span> (${timestampLength}ä½)</div>
          </div>
          <div class="result-item">
            <div class="result-label">å…¶ä»–æ ¼å¼</div>
            <div class="result-value">
              <div>ç§’ï¼š${timestampSec}</div>
              <div>æ¯«ç§’ï¼š${timestampMs}</div>
            </div>
          </div>
          <div class="result-item">
            <div class="result-label">ISO 8601 æ ¼å¼</div>
            <div class="result-value">${date.toISOString()}</div>
          </div>
        `;
        resultDiv.style.display = 'block';
      }
      
      // æ‰¹é‡è½¬æ¢
      document.getElementById('batch-convert-btn').addEventListener('click', batchConvert);
      document.getElementById('clear-batch-btn').addEventListener('click', () => {
        document.getElementById('batch-input').value = '';
        document.getElementById('batch-result').style.display = 'none';
      });
      
      function batchConvert() {
        const input = document.getElementById('batch-input').value.trim();
        const resultDiv = document.getElementById('batch-result');
        
        if (!input) {
          showError(resultDiv, 'è¯·è¾“å…¥è¦è½¬æ¢çš„å†…å®¹');
          return;
        }
        
        const lines = input.split('\n').filter(line => line.trim() !== '');
        let results = [];
        
        lines.forEach((line, index) => {
          const trimmed = line.trim();
          
          // åˆ¤æ–­æ˜¯æ—¶é—´æˆ³è¿˜æ˜¯æ—¥æœŸ
          if (/^\d+$/.test(trimmed)) {
            // å¯èƒ½æ˜¯æ—¶é—´æˆ³
            const isMilliseconds = trimmed.length === 13;
            const timestamp = parseInt(trimmed, 10);
            const date = isMilliseconds ? new Date(timestamp) : new Date(timestamp * 1000);
            
            if (!isNaN(date.getTime())) {
              results.push({
                input: trimmed,
                type: 'timestamp',
                result: date.toLocaleString('zh-CN'),
                timestamp: isMilliseconds ? Math.floor(timestamp / 1000) : timestamp,
                unit: isMilliseconds ? 'æ¯«ç§’' : 'ç§’'
              });
            } else {
              results.push({
                input: trimmed,
                type: 'unknown',
                error: 'æ— æ•ˆçš„æ—¶é—´æˆ³'
              });
            }
          } else {
            // å°è¯•è§£æä¸ºæ—¥æœŸ
            const date = new Date(trimmed);
            if (!isNaN(date.getTime())) {
              const timestampSec = Math.floor(date.getTime() / 1000);
              const timestampMs = date.getTime();
              
              results.push({
                input: trimmed,
                type: 'date',
                result: `ç§’: ${timestampSec}, æ¯«ç§’: ${timestampMs}`,
                date: date.toLocaleString('zh-CN')
              });
            } else {
              results.push({
                input: trimmed,
                type: 'unknown',
                error: 'æ— æ³•è¯†åˆ«çš„æ ¼å¼'
              });
            }
          }
        });
        
        // ç”Ÿæˆç»“æœHTML
        let html = '<div class="result-item"><div class="result-label">æ‰¹é‡è½¬æ¢ç»“æœ</div></div>';
        
        results.forEach((item, index) => {
          html += `<div class="result-item">`;
          html += `<div class="result-label">ç¬¬ ${index + 1} è¡Œ: ${item.type === 'timestamp' ? 'æ—¶é—´æˆ³' : item.type === 'date' ? 'æ—¥æœŸ' : 'æœªçŸ¥'}</div>`;
          html += `<div class="result-value">`;
          html += `<div><strong>è¾“å…¥:</strong> ${item.input}</div>`;
          
          if (item.error) {
            html += `<div style="color: #ef4444;"><strong>é”™è¯¯:</strong> ${item.error}</div>`;
          } else {
            if (item.type === 'timestamp') {
              html += `<div><strong>æ—¥æœŸ:</strong> ${item.result}</div>`;
              html += `<div><strong>æ—¶é—´æˆ³:</strong> ${item.timestamp} (${item.unit})</div>`;
            } else if (item.type === 'date') {
              html += `<div><strong>æ—¥æœŸ:</strong> ${item.date}</div>`;
              html += `<div><strong>æ—¶é—´æˆ³:</strong> ${item.result}</div>`;
            }
          }
          
          html += `</div></div>`;
        });
        
        resultDiv.innerHTML = html;
        resultDiv.style.display = 'block';
      }
      
      // æ˜¾ç¤ºé”™è¯¯
      function showError(element, message) {
        element.innerHTML = `
          <div class="result-item">
            <div class="result-label">é”™è¯¯</div>
            <div class="result-value" style="color: #ef4444;">${message}</div>
          </div>
        `;
        element.style.display = 'block';
      }
      
      // è¾“å…¥æ¡†å›è½¦è§¦å‘è½¬æ¢
      document.getElementById('timestamp-input').addEventListener('keypress', (e) => {
        if (e.key === 'Enter') convertTimestampToDate();
      });
      
      document.getElementById('datetime-input').addEventListener('keypress', (e) => {
        if (e.key === 'Enter') convertDateToTimestamp();
      });
      
      // é¡µé¢åŠ è½½æ—¶å¡«å……ç¤ºä¾‹
      window.addEventListener('DOMContentLoaded', () => {
        const now = new Date();
        const timestampSec = Math.floor(now.getTime() / 1000);
        const timestampMs = now.getTime();
        
        // è®¾ç½®æ—¶é—´æˆ³è¾“å…¥æ¡†çš„ç¤ºä¾‹
        document.getElementById('timestamp-input').placeholder = `ä¾‹å¦‚ï¼š${timestampSec} (ç§’) æˆ– ${timestampMs} (æ¯«ç§’)`;
        
        // è®¾ç½®æ—¥æœŸè¾“å…¥æ¡†çš„ç¤ºä¾‹
        const exampleDate = now.toLocaleString('zh-CN', {
          year: 'numeric',
          month: '2-digit',
          day: '2-digit',
          hour: '2-digit',
          minute: '2-digit',
          second: '2-digit',
          hour12: false
        }).replace(/\//g, '-');
        document.getElementById('datetime-input').placeholder = `ä¾‹å¦‚ï¼š${exampleDate} æˆ– 2024-01-01`;
      });
    </script>
  </body>
</html>
